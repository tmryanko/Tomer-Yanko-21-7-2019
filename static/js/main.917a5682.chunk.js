(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getAutoCompleteSuccess",function(){return j}),a.d(n,"getFiveDayWeatherSuccess",function(){return k}),a.d(n,"getCurrentWeatherSuccess",function(){return U}),a.d(n,"failMsg",function(){return L}),a.d(n,"getAutoComplete",function(){return G}),a.d(n,"getFiveDayWeather",function(){return H}),a.d(n,"getCurrentWeather",function(){return V});var r={};a.r(r),a.d(r,"addToFavorites",function(){return x}),a.d(r,"remFromFav",function(){return Y}),a.d(r,"editCurrentCity",function(){return K});var o=a(0),c=a.n(o),i=a(20),l=a.n(i),u=a(23),s=a(22),m=(a(81),a(127)),d=a(125),h=(a(82),function(e){return c.a.createElement("div",null,c.a.createElement(m.a,{bg:"dark",variant:"dark"},c.a.createElement(m.a.Brand,{href:"#home"},"Herolo Weather Task"),c.a.createElement(m.a.Collapse,{className:"justify-content-end"},c.a.createElement(d.a,{className:"justify-content-end"},c.a.createElement("div",{className:"navItems"},c.a.createElement(s.b,{to:"/Home"},"Home"),c.a.createElement(s.b,{to:"/Favorites"},"Favorites"))))))}),E=a(18),f=a(7),p=a(33),v=a(34),y=a(37),C=a(35),g=a(36),T=a(66),_=a.n(T),F=(a(99),function(e){var t=e.onChange,a=e.cities,n=e.OnSelect,r=e.value;return c.a.createElement("div",{className:"mySearch"},c.a.createElement(_.a,{inputProps:{className:"mySearchAutoCo",placeholder:"search"},getItemValue:function(e){return e},items:a,renderItem:function(e,t){return c.a.createElement("div",{style:{position:"relative",background:t?"lightgray":"white"}},e)},value:r,onChange:t,onSelect:n}))}),S=a(128),O=(a(100),function(e){var t=e.degrees,a=e.date,n=e.unit,r=e.name,o=e.loc,i=e.handleGoHome,l=e.id;return c.a.createElement(S.a,{border:"primary",className:"card",onClick:function(){return"fav"===o?i(l,r):null}},c.a.createElement(S.a.Body,null,c.a.createElement(S.a.Text,null,a&&a.slice(0,10)),c.a.createElement(S.a.Text,null,r),c.a.createElement(S.a.Text,null,"F"===n?(5*(t-32)/9).toFixed(1)+"C":t+n)))}),A=(a(51),function(e){var t=e.weather,a=e.name,n=t.map(function(e,t){return c.a.createElement(O,{key:t,degrees:e.Temperature.Maximum.Value,date:e.Date,unit:e.Temperature.Maximum.Unit,name:a})});return c.a.createElement("div",{className:"cardlist"},n)}),R=(a(101),a(67)),N=a(68),b=a(124),W=function(e){var t=e.currentWeather,a=e.weather,n=e.onClick,r=e.iColor,o=e.name;return c.a.createElement("div",{className:"myWeather"},c.a.createElement("div",{className:"myWeatherTop"},c.a.createElement(O,{name:o,degrees:t.degrees,date:t.date,unit:t.unit}),c.a.createElement("div",{className:"myWeatherTopRight"},c.a.createElement(R.a,{style:{color:r},className:"favIcon",icon:N.a}),c.a.createElement(b.a,{onClick:n},"Add To Favorites"))),c.a.createElement("h1",null,t.weatherText),c.a.createElement(A,{weather:a,name:o,className:"myWeatherBottom"}))},I=a(12),w=a(38),D=a.n(w),M={GET_AUTO_COMPLETE_SUCCESS:"GET_AUTO_COMPLETE_SUCCESS",GET_CURRENT_WEATHER_SUCCESS:"GET_CURRENT_WEATHER_SUCCESS",GET_FIVE_DAY_WEATHER_SUCCESS:"GET_FIVE_DAY_WEATHER_SUCCESS",ADD_TO_FAVORITES:"ADD_TO_FAVORITES",REM_FROM_FAV:"REM_FROM_FAV",FAIL_MSG:"FAIL_MSG",EDIT_CURRENT_CITY:"EDIT_CURRENT_CITY",LINK:"http://dataservice.accuweather.com/",API_KEY:"Neijlcq5HWIG9whwUgzP2AvRyRQ0fnz3",API_KEY1:"qAWasab5si6MYD64DQvLIDF9fhP3qVKb",API_KEY2:"fAGGXfz6C130ttIiFZLGBZXBqzjFZwlA"},j=(Object({NODE_ENV:"production",PUBLIC_URL:"/Tomer-Yanko-21-7-2019"}).WEATHER_API_KEY2,function(e){return{type:M.GET_AUTO_COMPLETE_SUCCESS,payload:e}}),k=function(e){return{type:M.GET_FIVE_DAY_WEATHER_SUCCESS,payload:e}},U=function(e,t,a,n){return{type:M.GET_CURRENT_WEATHER_SUCCESS,payload:{weatherText:e,date:t,degrees:a,unit:n}}},L=function(e,t){return{type:M.FAIL_MSG,payload:e,msgBool:t}},G=function(e){return function(t){D.a.get("".concat(M.LINK,"locations/v1/cities/autocomplete?apikey=").concat(M.API_KEY2,"&q=").concat(e)).then(function(e){if(e.data.length>0){var a=e.data.map(function(e){return{LocalizedName:e.LocalizedName,Key:e.Key}});t(j(a))}}).catch(function(){t(L("autoCompleteFail",!0))})}},H=function(e){return function(t){D.a.get("".concat(M.LINK,"forecasts/v1/daily/5day/").concat(e,"?apikey=").concat(M.API_KEY2)).then(function(e){t(k(e.data.DailyForecasts))}).catch(function(){t(L("FiveDayWeather Fail",!0))})}},V=function(e){return function(t){D.a.get("".concat(M.LINK,"currentconditions/v1/").concat(e,"?apikey=").concat(M.API_KEY2)).then(function(e){t(U(e.data[0].WeatherText,e.data[0].LocalObservationDateTime,e.data[0].Temperature.Metric.Value,e.data[0].Temperature.Metric.Unit))}).catch(function(){t(L("CurrentWeather Fail",!0))})}},x=function(e,t,a){return{type:M.ADD_TO_FAVORITES,payload:{currentWeather:e,key:t,cityName:a}}},Y=function(e){return{type:M.REM_FROM_FAV,payload:e}},K=function(e,t,a){return{type:M.EDIT_CURRENT_CITY,payload:{id:e,cityName:t,iconColor:a}}},P=a(126),B=function(e){var t=e.msg,a=e.showFailMsg,n=e.onToastClose;return c.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"100px"}},c.a.createElement(P.a,{style:{position:"absolute",top:-400,right:0},onClose:function(){n(!1)},show:a,delay:2e3,autohide:!0},c.a.createElement(P.a.Header,null,c.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),c.a.createElement("strong",{className:"mr-auto"},"Error Message")),c.a.createElement(P.a.Body,null,t)))},z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(C.a)(t).call(this,e))).handleFormChange=function(e){a.setState({name:e.target.value}),a.props.actions.getAutoComplete(e.target.value)},a.handleOnSelect=function(e){var t=a.props.favList,n=a.props.cities.filter(function(t){return t.LocalizedName===e})[0].Key;if(a.setState({name:e,value:n,cityName:e}),a.props.actions.getFiveDayWeather(n),a.props.actions.getCurrentWeather(n),t.length>0){for(var r=0,o=0;o<t.length;o++)t[o].key!==n&&r++,t[o].key===n&&a.setState({iconColor:"red"});r===t.length&&a.setState({iconColor:"black"})}},a.handleOnClickToFav=function(){var e=a.state,t=e.value,n=e.cityName,r=a.props,o=r.favList,c=r.currentWeather,i=r.currentCity;if(0===o.length)a.props.actions.addToFavorites(c,t,n),a.setState({iconColor:"red"});else if(o.length>0){for(var l=0,u=0;u<o.length;u++)if(o[u].key!==i.id&&l++,o[u].key===t){a.setState({iconColor:"black"});var s=o.filter(function(e){return e.key!==t});a.props.actions.remFromFav(s),a.props.actions.editCurrentCity(t,n,"black")}l===o.length&&(a.props.actions.addToFavorites(c,t,n),a.setState({iconColor:"red"}))}},a.handleToastClose=function(){a.props.actions.failMsg("",!1)},a.state={value:"",name:"",cityName:"",iconColor:""},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.favList,a=e.currentCity;if(this.setState({value:a.id,cityName:a.cityName,iconColor:a.iconColor}),this.props.actions.getFiveDayWeather(a.id),this.props.actions.getCurrentWeather(a.id),t.length>0)for(var n=0;n<t.length;n++)t[n].key===a.id&&this.setState({iconColor:"red"})}},{key:"render",value:function(){var e=this.props.cities.map(function(e){return e.LocalizedName}),t=this.state,a=t.cityName,n=t.name,r=t.iconColor,o=this.props,i=o.currentWeather,l=o.FiveDayWeather,u=o.showFailMsg,s=o.msg;return c.a.createElement("div",null,c.a.createElement(F,{onChange:this.handleFormChange,cities:e,value:n,OnSelect:this.handleOnSelect,loadOptions:this.loadOptions}),c.a.createElement(W,{currentWeather:i,weather:l,onClick:this.handleOnClickToFav,iColor:r,name:a}),u&&c.a.createElement(B,{showFailMsg:u,msg:s,onToastClose:this.handleToastClose}))}}]),t}(o.Component);z.defaultProps={cities:[],currentWeather:{},FiveDayWeather:[]};var q=Object(u.b)(function(e){return{cities:e.weatherReducer.cities,FiveDayWeather:e.weatherReducer.DailyForecasts,currentWeather:e.weatherReducer.currentWeather,currentCity:e.weatherReducer.currentCity,favList:e.favoritesReducer.favorites,showFailMsg:e.notificationsReducer.showFailMsg,msg:e.notificationsReducer.msg}},function(e){return{actions:Object(I.b)(Object(f.a)({},n,r),e)}})(z),Z=function(e){var t=e.weather,a=e.handleGoHome,n=t.map(function(e,t){return c.a.createElement(O,Object.assign({key:t},e.currentWeather,{name:e.cityName,loc:"fav",id:e.key,handleGoHome:function(e,t){a(e,t)}}))});return c.a.createElement("div",{className:"cardlist"},n)},J=(a(120),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleGoHome=function(e,t){a.props.actions.editCurrentCity(e,t,"red"),a.props.history.push("/Home")},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.favList;return c.a.createElement("div",null,0===t.length?c.a.createElement("div",{className:"noFavorites"},"No Favorites"):c.a.createElement("div",null,c.a.createElement(Z,{weather:t,handleGoHome:function(t,a){e.handleGoHome(t,a)}})))}}]),t}(o.Component));var Q=Object(u.b)(function(e){return{favList:e.favoritesReducer.favorites}},function(e){return{actions:Object(I.b)(Object(f.a)({},r),e)}})(J),X=function(e){return c.a.createElement("div",null,c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/Home",component:q}),c.a.createElement(E.a,{path:"/Favorites",component:Q})))};a(121);var $=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null),c.a.createElement(X,null))},ee=a(69),te=function(e){return function(t,a,n){return e(function(e,a){var n,r=performance.now(),o=t(e,a),c=performance.now(),i=(n=c-r,Math.round(100*n)/100);return console.log("reducer process time:",i),o},a,n)}},ae=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},ne={cities:[{LocalizedName:"",Key:""}],DailyForecasts:[{Temperature:{Maximum:{Value:"",Unit:""}},Date:""}],currentWeather:{weatherText:"",date:"",degrees:"",unit:""},currentCity:{id:"215854",cityName:"Tel Aviv",iconColor:"black"}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.GET_AUTO_COMPLETE_SUCCESS:return Object(f.a)({},e,{cities:t.payload});case M.GET_FIVE_DAY_WEATHER_SUCCESS:return Object(f.a)({},e,{DailyForecasts:t.payload});case M.GET_CURRENT_WEATHER_SUCCESS:return Object(f.a)({},e,{currentWeather:t.payload});case M.EDIT_CURRENT_CITY:return Object(f.a)({},e,{currentCity:t.payload});default:return e}},oe=a(71),ce={favorites:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.ADD_TO_FAVORITES:return Object(f.a)({},e,{favorites:[].concat(Object(oe.a)(e.favorites),[t.payload])});case M.REM_FROM_FAV:return Object(f.a)({},e,{favorites:t.payload});default:return e}},le={msg:"",showFailMsg:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.FAIL_MSG:return Object(f.a)({},e,{msg:t.payload,showFailMsg:t.msgBool});default:return e}},se=Object(I.c)({weatherReducer:re,favoritesReducer:ie,notificationsReducer:ue});var me=function(e){var t=[ae,ee.a],a=[I.a.apply(void 0,t),te],n=I.d.apply(void 0,a);return Object(I.e)(se,e,n)}();l.a.render(c.a.createElement(u.a,{store:me},c.a.createElement(s.a,null,c.a.createElement($,null))),document.getElementById("root"))},51:function(e,t,a){},72:function(e,t,a){e.exports=a(122)},81:function(e,t,a){},82:function(e,t,a){},99:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.917a5682.chunk.js.map